#!/usr/bin/env php
<?php
declare(strict_types=1);

error_reporting(E_ALL);
set_time_limit(0);

if (!defined('REQUEST_MICROTIME')) {
    define('REQUEST_MICROTIME', microtime(true));
}

$applicationRoot = dirname(__FILE__, 2);

require_once $applicationRoot . '/vendor/autoload.php';

use Application\Component\Console\Application;

define('APPLICATION_ROOT', $applicationRoot);

putenv('SHELL_INTERACTIVE=true');

locale_set_default('en_US');

$application = new Application();
$application->setDefaultCommand('image-optimizer');
$application->run();
